<div id="quiz-container" style="font-family: 'Segoe UI', Arial, sans-serif; max-width: 800px; margin: auto; color: #333; line-height: 1.6; background: #fff; border: 1px solid #e1e4e8; padding: 25px; border-radius: 8px;">
  
  <h2 style="color: #0366d6; border-bottom: 2px solid #eaecef; padding-bottom: 10px;">Leadership & Composure Quiz</h2>

  <form id="leadershipQuiz">
    <div class="question" id="group-q1" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>1. According to the course, what is the primary impact of a leader's composure on a difficult conversation?</strong></p>
      <label style="display: block;"><input type="radio" name="q1" value="D"> D. It influences the other person's emotional state and the level of trust.</label>
      <label style="display: block;"><input type="radio" name="q1" value="A"> A. It fulfills a basic HR requirement.</label>
      <label style="display: block;"><input type="radio" name="q1" value="B"> B. It demonstrates authority and control.</label>
      <label style="display: block;"><input type="radio" name="q1" value="C"> C. It ensures objectives are met without compromise.</label>
      <div class="feedback" id="ans-q1" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div class="question" id="group-q2" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>2. If a manager recognizes they are becoming emotionally overloaded, what is a wise next step?</strong></p>
      <label style="display: block;"><input type="radio" name="q2" value="D"> D. Use a strategic pause or suggest redirecting the conversation.</label>
      <label style="display: block;"><input type="radio" name="q2" value="A"> A. Accuse the other person of triggering you.</label>
      <label style="display: block;"><input type="radio" name="q2" value="B"> B. Push forward to finish quickly.</label>
      <label style="display: block;"><input type="radio" name="q2" value="C"> C. End the meeting and report them to HR.</label>
      <div class="feedback" id="ans-q2" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div class="question" id="group-q3" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>3. What is the first step in managing reactivity?</strong></p>
      <label style="display: block;"><input type="radio" name="q3" value="D"> D. Identifying personal triggers that cause an emotional response.</label>
      <label style="display: block;"><input type="radio" name="q3" value="A"> A. Drafting a script.</label>
      <label style="display: block;"><input type="radio" name="q3" value="B"> B. Deciding on a firm outcome.</label>
      <label style="display: block;"><input type="radio" name="q3" value="C"> C. Asking a colleague for an opinion.</label>
      <div class="feedback" id="ans-q3" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div class="question" id="group-q4" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>4. What does the principle 'Separating Role From Emotion' primarily help a leader do?</strong></p>
      <label style="display: block;"><input type="radio" name="q4" value="D"> D. Focus on professional responsibilities instead of taking things personally.</label>
      <label style="display: block;"><input type="radio" name="q4" value="A"> A. Act without any emotion.</label>
      <label style="display: block;"><input type="radio" name="q4" value="B"> B. Delegate conversations to HR.</label>
      <label style="display: block;"><input type="radio" name="q4" value="C"> C. Ignore the emotional state of others.</label>
      <div class="feedback" id="ans-q4" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div class="question" id="group-q5" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>5. When preparing for a difficult conversation, how should a leader treat assumptions?</strong></p>
      <label style="display: block;"><input type="radio" name="q5" value="C"> C. Acknowledge them internally and focus on factual observations.</label>
      <label style="display: block;"><input type="radio" name="q5" value="A"> A. Ignore them completely.</label>
      <label style="display: block;"><input type="radio" name="q5" value="B"> B. Present them as facts.</label>
      <label style="display: block;"><input type="radio" name="q5" value="D"> D. Use them to predict reactions.</label>
      <div class="feedback" id="ans-q5" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: C</div>
    </div>

    <div class="question" id="group-q6" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>6. Which action exemplifies a shift to intentional communication?</strong></p>
      <label style="display: block;"><input type="radio" name="q6" value="A"> A. Using a brief pause to consider your response.</label>
      <label style="display: block;"><input type="radio" name="q6" value="B"> B. Matching the other person's loud tone.</label>
      <label style="display: block;"><input type="radio" name="q6" value="C"> C. Ending the conversation immediately.</label>
      <label style="display: block;"><input type="radio" name="q6" value="D"> D. Immediately countering a point.</label>
      <div class="feedback" id="ans-q6" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: A</div>
    </div>

    <div class="question" id="group-q7" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>7. Which technique should be used *before* a conversation begins?</strong></p>
      <label style="display: block;"><input type="radio" name="q7" value="D"> D. Mentally rehearsing a calm and clear opening statement.</label>
      <label style="display: block;"><input type="radio" name="q7" value="A"> A. Checking internal state during tension.</label>
      <label style="display: block;"><input type="radio" name="q7" value="B"> B. Using a strategic pause.</label>
      <label style="display: block;"><input type="radio" name="q7" value="C"> C. Redirecting the topic.</label>
      <div class="feedback" id="ans-q7" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div class="question" id="group-q8" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>8. What is the purpose of being aware of your 'Professional Presence'?</strong></p>
      <label style="display: block;"><input type="radio" name="q8" value="C"> C. To ensure non-verbal cues don't contradict your calm words.</label>
      <label style="display: block;"><input type="radio" name="q8" value="A"> A. To prove you aren't nervous.</label>
      <label style="display: block;"><input type="radio" name="q8" value="B"> B. To copy senior executives.</label>
      <label style="display: block;"><input type="radio" name="q8" value="D"> D. To intimidate others.</label>
      <div class="feedback" id="ans-q8" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: C</div>
    </div>

    <div class="question" id="group-q9" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>9. Which language choice is most likely to de-escalate a conversation?</strong></p>
      <label style="display: block;"><input type="radio" name="q9" value="D"> D. Stating a neutral observation about a specific event.</label>
      <label style="display: block;"><input type="radio" name="q9" value="A"> A. Phrasing feedback as a character judgment.</label>
      <label style="display: block;"><input type="radio" name="q9" value="B"> B. Leading with how you feel emotionally.</label>
      <label style="display: block;"><input type="radio" name="q9" value="C"> C. Using absolutes like 'You always'.</label>
      <div class="feedback" id="ans-q9" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div class="question" id="group-q10" style="margin-bottom: 25px; padding: 10px; border-radius: 5px;">
      <p><strong>10. If a manager is overloaded, the goal of a strategic pause is to:</strong></p>
      <label style="display: block;"><input type="radio" name="q10" value="D"> D. Preserve professionalism and redirect effectively.</label>
      <label style="display: block;"><input type="radio" name="q10" value="A"> A. Win the argument.</label>
      <label style="display: block;"><input type="radio" name="q10" value="B"> B. End the discussion permanently.</label>
      <label style="display: block;"><input type="radio" name="q10" value="C"> C. Avoid the topic forever.</label>
      <div class="feedback" id="ans-q10" style="display:none; margin-top: 5px; font-weight: bold; color: #155724;">✓ Correct Answer: D</div>
    </div>

    <div style="margin-top: 30px;">
        <button type="button" onclick="calculateScore()" style="background-color: #0366d6; color: white; border: none; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: 600;">Submit Answers</button>
        <button type="reset" onclick="resetQuiz()" style="background-color: #f6f8fa; color: #24292e; border: 1px solid #d1d5da; padding: 12px 24px; border-radius: 6px; cursor: pointer; font-size: 16px; font-weight: 600; margin-left: 10px;">Retake Quiz</button>
    </div>
  </form>

  <div id="result" style="margin-top: 25px; font-weight: bold; font-size: 1.2em; display: none; padding: 20px; border-radius: 6px; text-align: center;"></div>

</div>

<script>
  function calculateScore() {
    const answers = { q1: 'D', q2: 'D', q3: 'D', q4: 'D', q5: 'C', q6: 'A', q7: 'D', q8: 'C', q9: 'D', q10: 'D' };
    let score = 0;
    const form = document.getElementById('leadershipQuiz');
    const formData = new FormData(form);

    // Loop through questions to grade and show highlights
    for (let [key, correctVal] of Object.entries(answers)) {
      const userVal = formData.get(key);
      const feedback = document.getElementById('ans-' + key);
      const questionGroup = document.getElementById('group-' + key);
      
      feedback.style.display = 'block'; // Reveal the correct answer
      
      if (userVal === correctVal) {
        score++;
        questionGroup.style.backgroundColor = "#f0fff4"; // Soft green background for correct
      } else {
        questionGroup.style.backgroundColor = "#fff5f5"; // Soft red background for incorrect
      }
    }

    const resultDiv = document.getElementById('result');
    resultDiv.style.display = 'block';
    resultDiv.innerHTML = "Quiz Complete! Your Score: " + score + " / 10";
    resultDiv.style.backgroundColor = score >= 8 ? "#d4edda" : "#fff3cd";
    resultDiv.style.color = score >= 8 ? "#155724" : "#856404";
    
    window.scrollTo({ top: resultDiv.offsetTop, behavior: 'smooth' });
  }

  function resetQuiz() {
    // Hide all feedback and reset colors
    const feedbacks = document.getElementsByClassName('feedback');
    const groups = document.getElementsByClassName('question');
    for (let f of feedbacks) f.style.display = 'none';
    for (let g of groups) g.style.backgroundColor = "transparent";
    
    document.getElementById('result').style.display = 'none';
    window.scrollTo({ top: 0, behavior: 'smooth' });
  }
</script>
